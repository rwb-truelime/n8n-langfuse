# =========================
# OpenTelemetry / Langfuse
# (Tracing.js instrumentation)
# =========================
OTEL_SDK_DISABLED=false             # Set true to disable all OTEL initialization
OTEL_SERVICE_NAME=n8n               # Service name resource attribute
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=dev,service.version=0.1.0

# OTLP endpoint (Langfuse ingest URL base)
OTEL_EXPORTER_OTLP_ENDPOINT=https://YOUR_OTLP_HOST/api/public/otel # Remember, Langfuse does not support regurlar log traces!
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_EXPORTER_OTLP_TIMEOUT=30000

# (Optional explicit traces endpoint & headers)
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=https://YOUR_LANGFUSE_HOST/api/public/otel/v1/traces # Use the full path, check https://langfuse.com/integrations/native/opentelemetry
OTEL_EXPORTER_OTLP_HEADERS=Authorization=Basic REPLACE_BASE64_TOKEN
OTEL_EXPORTER_OTLP_TRACES_HEADERS=Authorization=Basic REPLACE_BASE64_TOKEN # Check: https://langfuse.com/integrations/native/opentelemetry 

# Disable metrics/logs (only traces)
OTEL_METRICS_EXPORTER=none
OTEL_LOGS_EXPORTER=none
N8N_OTEL_EXPORT_LOGS=false
OTEL_LOG_LEVEL=INFO                 # OTEL internal diagnostic logging (DEBUG|INFO|WARN|ERROR)

# =========================
# Tracing Behavior Toggles
# (Consumed by tracing.js)
# =========================
TRACING_LOG_LEVEL=info                      # logging inside tracing bootstrap
TRACING_ONLY_WORKFLOW_SPANS=true            # true = disable auto-instrumentations (HTTP/DB) except manual workflow/node spans
TRACING_DYNAMIC_WORKFLOW_TRACE_NAME=true    # Include workflow id/name/execution id in span name
TRACING_LANGFUSE_TYPE_IN_NODE_SPAN_NAME=true # Include inferred Langfuse observation type in node span name
TRACING_MAP_LANGFUSE_OBSERVATION_TYPES=true  # (default true) infer langfuse.observation.type
TRACING_USE_NODE_NAME_SPAN=true             # Use actual node name as span name
TRACING_CAPTURE_INPUT_OUTPUT=true           # Capture selected node inputs/outputs (may include sensitive data)
TRACING_MAX_IO_CHARS=12000                  # Truncation limit for captured I/O
TRACING_WORKFLOW_SPAN_NAME_PATTERN=         # Optional pattern: e.g. {workflowId}-{workflowName}-{executionId}


# =========================
# Security / Secrets Reminder
# =========================
# DO NOT commit real values for:
# - N8N_ENCRYPTION_KEY
# - DB_POSTGRESDB_PASSWORD
# - OTEL_EXPORTER_OTLP*_HEADERS (Authorization)
# Rotate tokens regularly.